let book,index=0;function click_on_menu(o){$("li.nav-item").removeClass("active");let a=$(o);switch(a.addClass("active"),a.attr("id")){case"menu_home":setTimeout((()=>{document.location.href="../index.html"}),500);break;case"menu_book":$("#div_task").attr("hidden",""),$("#div_book").removeAttr("hidden");break;case"menu_task":$("#div_task").removeAttr("hidden"),$("#div_book").attr("hidden","")}}function click_on_book(o){let a;a=-1===o?book[Math.floor(Math.random()*book.length)]:$(o).attr("data"),$.get(`../data/text/${a}.txt`,(o=>{let a=o.split("\n"),t=`<div class="modal-header border-secondary">\n            <div class="d-flex flex-column ms-3">\n               <h3 class="m-0">${a[0]}</h3>\n               <span>Назва: ${a[1]}</span>\n               <span>Автор: ${a[2]}</span>\n               <span>Рік видання: ${a[3]}</span>\n               <span>Вартість: ${a[4]}</span>\n               <span>Кількість: ${a[5]}</span>\n            </div>\n            <button type="button" class="btn-close bg-primary me-3" data-bs-dismiss="modal" aria-label="Close"></button>\n         </div>\n         \n         <div class="modal-body">\n            <img src="../data/img/${a[6]}.png" class="w-100" alt="book">\n         </div>\n         \n         <div class="modal-footer border-secondary">\n            <h5>${a[7]}</h5>\n         </div>`;$("#modal_content").html(t),$("#modal").modal("show")}))}function load_more_book(o){let a=0;for(;a<o;){if(index>=book.length)return void disable_load_button();$.get(`../data/text/${book[index]}.txt`,(o=>{let a=o.split("\n"),t=`<div class="col-md-6 col-lg-4">\n               <div class="p-2 book" onclick="click_on_book(this)" data="${a[6]}">\n                  <img src="../data/img/${a[6]}.png" class="w-100" alt="book">\n                  <div class="bg-ligth text-center">${a[0]}</div>\n               </div>\n            </div>`;$("#book").append(t)})),a++,index++}}function disable_load_button(){$("#load").addClass("disabled")}$("#modal").on("hidden.bs.modal",(()=>{$("li.nav-item").removeClass("active"),$("#menu_book").addClass("active"),$("#div_task").attr("hidden",""),$("#div_book").removeAttr("hidden")})),$(document).ready((()=>{setTimeout((()=>{$.get("../data/data.txt",(o=>{book=o.split("\n"),book.splice(book.length-1,1),load_more_book(6)}))}),300)}));